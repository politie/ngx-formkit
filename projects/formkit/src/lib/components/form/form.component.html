<div *ngIf="form" cy-formkit-form [formGroup]="form" class="formkit-form" [ngClass]="[root ? 'formkit-form-root' : 'formkit-form-sub']">

  <!-- Slot for when the form isn't created yet -->
  <ng-content *ngIf="!created" select="[beforeCreated]"></ng-content>

  <ng-container *ngIf="created">

    <!-- Form description -->
    <ng-content *ngIf="!readonly" select="[formDescription]"></ng-content>

    <!-- Readonly form description -->
    <ng-content *ngIf="readonly" select="[formDescriptionReadOnly]"></ng-content>

    <div class="formkit-fields">
      <ng-container *ngFor="let fieldListItem of fieldList">
        <formkit-form-field
          [formEvents$]="events$"
          [formGroup]="form"
          [control]="form.get(fieldListItem.name)!"
          [name]="[fieldListItem.name]"
          [field]="$any(fieldListItem.field)">
        </formkit-form-field>
      </ng-container>
    </div>

    <ng-content select="[footer]"></ng-content>
    <ng-content select="[submitButton]"></ng-content>
  </ng-container>
</div>
