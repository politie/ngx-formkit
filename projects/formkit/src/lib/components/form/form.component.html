<ng-container *ngIf="created" [formGroup]="form">

  <!-- Form description -->
  <ng-content *ngIf="!readonly" select="[formDescription]"></ng-content>

  <!-- Readonly form description -->
  <ng-content *ngIf="readonly" select="[formDescriptionReadOnly]"></ng-content>

  <div class="formkit-fields formkit-fields-root">
    <ng-container
      [ngTemplateOutlet]="fieldsTemplate || defaultFieldsTemplate"
      [ngTemplateOutletContext]="{ fields: fields, keys: $any(fields) | visibleFieldKeys }">
    </ng-container>
  </div>

  <ng-template #defaultFieldsTemplate let-fields="fields" let-keys="keys">
    <formkit-form-field
      *ngFor="let name of keys"
      [form]="form"
      [control]="form.controls[name]"
      [name]="name"
      [field]="$any(fields[name])">
    </formkit-form-field>
  </ng-template>

  <ng-content select="[footer]"></ng-content>
  <ng-content select="[submitButton]"></ng-content>
</ng-container>
